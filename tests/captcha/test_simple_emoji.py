import pytest

from app.captcha.simple_emoji import simple_emoji


@pytest.mark.parametrize('payload, expected_answer', [
    ('–Ω–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π –ø—Ä–∏–º–µ—Ä', None),
    ('‚ùì –ù–∞ –ø—É—Ç–∏ —Ç—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª –∫–∞–ø—á—É, –æ—Ç–ø—Ä–∞–≤—å —á–∏—Å–ª–æ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—à—å—Å—è –≤ —Ç—é—Ä—å–º—É. –£ —Ç–µ–±—è –µ—Å—Ç—å 90 —Å–µ–∫—É–Ω–¥', None),
    ('–ù–∞ –ø—É—Ç–∏ —Ç—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª –∫–∞–ø—á—É.\n —Å—Ç–æ–ª–∏—Üa –≠–ø—Å–∏–ª–∏–æ–Ωa - –ùa–ø–∏—à–∏—Ç–µ –æ—Ç–≤–µ—Ç —Å –±–æ–ª—å—à–æ–π –±—É–∫–≤—ã.\n\n‚ùì –û—Ç–ø—Ä–∞–≤—å –æ—Ç–≤–µ—Ç –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—à—å—Å—è –≤ —Ç—é—Ä—å–º—É. –£ —Ç–µ–±—è –µ—Å—Ç—å 90 —Å–µ–∫—É–Ω–¥', None),

    # emoji
    ('–ù–∞ –ø—É—Ç–∏ —Ç—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª –∫–∞–ø—á—É.\n üê∫ - –ùa–ø–∏—à–∏—Ç–µ –Ωa–∑–≤a–Ω–∏–µ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ —Å –ºa–ª–µ–Ω—å–∫–æ–π –±—É–∫–≤—ã.', '–≤–æ–ª–∫'),
    ('–ù–∞ –ø—É—Ç–∏ —Ç—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª –∫–∞–ø—á—É.\n üßü‚Äç‚ôÇÔ∏èÔ∏è - –ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞—Å—ã —Å –º–∞–ª–µ–Ω—å–∫–æ–π –±—É–∫–≤—ã –≤–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ.', '–æ—Ä–∫–∏'),
    ('–ù–∞ –ø—É—Ç–∏ —Ç—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª –∫–∞–ø—á—É.\n üßù‚Äç‚ôÇÔ∏è - –ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞—Å—ã —Å –º–∞–ª–µ–Ω—å–∫–æ–π –±—É–∫–≤—ã –≤–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ.', '—ç–ª—å—Ñ—ã'),
    ('–ù–∞ –ø—É—Ç–∏ —Ç—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª –∫–∞–ø—á—É.\n üßù‚Äç‚ôÄÔ∏èÔ∏è - –ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞—Å—ã —Å –º–∞–ª–µ–Ω—å–∫–æ–π –±—É–∫–≤—ã –≤–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ.', '—ç–ª—å—Ñ—ã'),
    ('–ù–∞ –ø—É—Ç–∏ —Ç—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª –∫–∞–ø—á—É.\n ü§¥Ô∏èÔ∏è - –ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞—Å—ã —Å –º–∞–ª–µ–Ω—å–∫–æ–π –±—É–∫–≤—ã –≤–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ.', '–ª—é–¥–∏'),
    ('–ù–∞ –ø—É—Ç–∏ —Ç—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª –∫–∞–ø—á—É.\n üë∏Ô∏èÔ∏èÔ∏è - –ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞—Å—ã —Å –º–∞–ª–µ–Ω—å–∫–æ–π –±—É–∫–≤—ã –≤–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ.', '–ª—é–¥–∏'),
    ('–ù–∞ –ø—É—Ç–∏ —Ç—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª –∫–∞–ø—á—É.\n ü§° - –ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —ç—Ç–æ–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ —Å –º–∞–ª–µ–Ω—å–∫–æ–π –±—É–∫–≤—ã.', '–∫–ª–æ—É–Ω'),
    ('–ù–∞ –ø—É—Ç–∏ —Ç—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª –∫–∞–ø—á—É.\n üçå  - –ùa–ø–∏—à–∏—Ç–µ –Ωa–∑–≤a–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ça —Å –ºa–ª–µ–Ω—å–∫–æ–π –±—É–∫–≤—ã.', '–±–∞–Ω–∞–Ω'),
    ('–ù–∞ –ø—É—Ç–∏ —Ç—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª –∫–∞–ø—á—É.\n ‚öΩÔ∏è - –ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–∞ —Å–ø–æ—Ä—Ç–∞ —Å –º–∞–ª–µ–Ω—å–∫–æ–π –±—É–∫–≤—ã.', '—Ñ—É—Ç–±–æ–ª'),
    ('–ù–∞ –ø—É—Ç–∏ —Ç—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª –∫–∞–ø—á—É.\n üí© - –ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∂–∞–Ω—Ä–∞ –º—É–ª—å—Ç–∏–∫–æ–≤ —Å –±–æ–ª—å—à–æ–π –±—É–∫–≤—ã.', '–ê–Ω–∏–º–µ'),
    ('–ù–∞ –ø—É—Ç–∏ —Ç—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª –∫–∞–ø—á—É.\n üçï–ø–∏**–∞, –Ω–∞–ø–∏—à–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞.', '–ø–∏—Ü—Ü–∞'),

])
async def test_simple_emoji_happy_path(payload: str, expected_answer: str | None):
    result = await simple_emoji(payload)

    assert result == expected_answer
